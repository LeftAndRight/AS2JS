<?xml version="1.0" encoding="utf-8"?>
<mx:WindowedApplication xmlns:mx="http://www.adobe.com/2006/mxml" width="1000" height="700">
	<mx:Style>
		global{
			fontFamily:Consolas, Courier;
			fontSize:12;
			color:#333333;
		}
	</mx:Style>
	<mx:Script>
		<![CDATA[
			
			[Embed(source="TestClass.txt",mimeType="application/octet-stream")]
			private var myFile:Class;
			private var testClass:TestClass;
			
			override protected function createChildren():void
			{
				super.createChildren();
				inputTxt.addEventListener(KeyboardEvent.KEY_UP, handleInput);
				
				autoLoadClass();
				
				maximize();
			}
			
			private function handleInput(e:Event):void
			{
				outputTxt.text 	= Converter.convert(inputTxt.text);
				inputTxt.text	= inputTxt.text.replace(/static/g, "\rstatic");
			}
			
			private function autoLoadClass():void
			{
				var b:ByteArray = new myFile();
				var s:String 	= b.readUTFBytes(b.length);
				s				= s.replace(/[\r\n]+/g, "\n");
				inputTxt.text	= s;
				handleInput(null);
			}
			
			
		]]>
	</mx:Script>
	<mx:HBox width="100%" height="100%" horizontalGap="0">
		<mx:VBox width="100%" height="100%" verticalGap="0">
			<mx:Label text="Input" />
			<mx:TextArea id="inputTxt" width="100%" height="100%" />
		</mx:VBox>
		<mx:VBox width="100%" height="100%" verticalGap="0">
			<mx:Label text="Output" />
			<mx:TextArea id="outputTxt" width="100%" height="100%" verticalScrollPolicy="off" verticalScrollPosition="{inputTxt.verticalScrollPosition}" />
		</mx:VBox>
	</mx:HBox>
</mx:WindowedApplication>
